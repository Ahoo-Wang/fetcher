import { type ApiMetadata, type ApiMetadataCapable, type ParameterRequest, api, attribute, autoGeneratedError, get, path, request } from "@ahoo-wang/fetcher-decorator";
import { WowExampleOrderState } from "./order/types";
import { EXAMPLE_BOUNDED_CONTEXT_ALIAS } from "./boundedContext";

/** 订单 */
@api()
export class OrderApiClient implements ApiMetadataCapable {
    constructor(public readonly apiMetadata: ApiMetadata = { basePath: EXAMPLE_BOUNDED_CONTEXT_ALIAS }) {
    }

    /**
     * - operationId: `onQuery`
     * - path: `/order/{tenantId}/{orderId}`
     */
    @get('/order/{tenantId}/{orderId}')
    onQuery(@path('orderId') orderId: string, @request() httpRequest?: ParameterRequest, @attribute() attributes?: Record<string, any>): Promise<WowExampleOrderState> {
        throw autoGeneratedError(orderId, httpRequest, attributes);
    }
}
