import { Meta } from '@storybook/addon-docs/blocks';
import {
  Typography,
  Card,
  Row,
  Col,
  Space,
  Badge,
  Divider,
  Table,
  List,
  Descriptions,
} from 'antd';

<Meta title="Introduction" />

<div style={{ padding: '24px' }}>
  <Space direction="vertical" size="large" style={{ width: '100%' }}>
    <div style={{ textAlign: 'center', marginBottom: '32px' }}>
      <Typography.Title level={1} style={{ marginBottom: '16px' }}>
        🚀 Fetcher
      </Typography.Title>

      <div style={{ marginBottom: '16px' }}>
        <Space size="small">
          <Badge status="success" text="npm version" />
          <Badge status="processing" text="Build Status" />
          <Badge status="warning" text="codecov" />
          <Badge status="default" text="License" />
          <Badge status="error" text="npm downloads" />
          <Badge status="processing" text="npm bundle size" />
        </Space>
      </div>

      <Typography.Text strong style={{ fontSize: '18px', display: 'block', marginBottom: '24px' }}>
        Ultra-lightweight • Modular • TypeScript-First • Interceptor-Powered • LLM Streaming API Support
      </Typography.Text>
    </div>

    <Card>
      <Typography.Title level={2}>🌟 Why Fetcher?</Typography.Title>
      <Typography.Paragraph>
        Fetcher is not just another HTTP client—it's a complete ecosystem designed for modern web development with
        native LLM
        streaming API support. Built on the native Fetch API, Fetcher provides an Axios-like experience with powerful
        features
        while maintaining an incredibly small footprint.
      </Typography.Paragraph>
    </Card>

    <Card>
      <Typography.Title level={2}>🚀 Core Features</Typography.Title>

       <Typography.Title level={3}>🎯 @ahoo-wang/fetcher - The Foundation</Typography.Title>
       <Typography.Paragraph>
         The lightweight core that powers the entire ecosystem:
       </Typography.Paragraph>
       <List
         size="small"
         dataSource={[
           '⚡ **Ultra-Lightweight**: Only 3KiB min+gzip - smaller than most alternatives',
           '🧭 **Path & Query Parameters**: Built-in support for path (`{id}`/`:id`) and query parameters',
           '🔗 **Interceptor System**: Request, response, and error interceptors with ordered execution for flexible middleware patterns',
           '⏱️ **Timeout Control**: Configurable request timeouts with proper error handling',
           '🔄 **Fetch API Compatible**: Fully compatible with the native Fetch API',
           '🛡️ **TypeScript Support**: Complete TypeScript definitions for type-safe development',
           '🧩 **Modular Architecture**: Lightweight core with optional extension packages',
           '📦 **Named Fetcher Support**: Automatic registration and retrieval of fetcher instances',
           '⚙️ **Default Fetcher**: Pre-configured default fetcher instance for quick start'
         ]}
         renderItem={(item) => <List.Item><span dangerouslySetInnerHTML={{ __html: item }} /></List.Item>}
       />

      <Divider />

       <Typography.Title level={3}>🎨 @ahoo-wang/fetcher-decorator - Declarative APIs</Typography.Title>
       <Typography.Paragraph>
         Transform your API interactions with clean, declarative service definitions:
       </Typography.Paragraph>
       <List
         size="small"
         dataSource={[
           '🎨 **Clean API Definitions**: Define HTTP services using intuitive decorators',
           '🧭 **Automatic Parameter Binding**: Path, query, header, and body parameters automatically bound',
           '⏱️ **Configurable Timeouts**: Per-method and per-class timeout settings',
           '🔗 **Fetcher Integration**: Seamless integration with Fetcher\'s named fetcher system',
           '⚡ **Automatic Implementation**: Methods automatically implemented with HTTP calls',
           '📦 **Metadata System**: Rich metadata support for advanced customization'
         ]}
         renderItem={(item) => <List.Item><span dangerouslySetInnerHTML={{ __html: item }} /></List.Item>}
       />

      <Divider />

       <Typography.Title level={3}>🎯 @ahoo-wang/fetcher-eventbus - Event Bus System</Typography.Title>
       <Typography.Paragraph>
         A TypeScript event bus library providing multiple implementations for handling events: serial execution, parallel execution, and cross-tab broadcasting.
       </Typography.Paragraph>
       <List
         size="small"
         dataSource={[
           '🔄 **Serial Execution**: Execute event handlers in order of priority',
           '⚡ **Parallel Execution**: Run event handlers concurrently for better performance',
           '🌐 **Cross-Tab Broadcasting**: Broadcast events across browser tabs using BroadcastChannel API',
           '📦 **Generic Event Bus**: Manage multiple event types with lazy loading',
           '🔧 **Type-Safe**: Full TypeScript support with strict typing',
           '🧵 **Async Support**: Handle both synchronous and asynchronous event handlers',
           '🔄 **Once Handlers**: Support for one-time event handlers',
           '🛡️ **Error Handling**: Robust error handling with logging'
         ]}
         renderItem={(item) => <List.Item><span dangerouslySetInnerHTML={{ __html: item }} /></List.Item>}
       />
    </Card>

     <Card>
       <Typography.Title level={2}>📦 Package Ecosystem</Typography.Title>

       <Descriptions
         bordered
         size="small"
         column={1}
         items={[
           {
             key: '1',
             label: '@ahoo-wang/fetcher',
             children: (
               <div>
                 <Typography.Text strong>Core HTTP Client</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">Ultra-lightweight foundation</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: 3KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
           {
             key: '2',
             label: '@ahoo-wang/fetcher-decorator',
             children: (
               <div>
                 <Typography.Text strong>Decorator Support</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">Declarative API service definitions</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: ~4KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
           {
             key: '3',
             label: '@ahoo-wang/fetcher-eventstream',
             children: (
               <div>
                 <Typography.Text strong>Real-Time Streaming & LLM Support</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">Server-Sent Events (SSE) support</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: ~2.5KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
           {
             key: '4',
             label: '@ahoo-wang/fetcher-eventbus',
             children: (
               <div>
                 <Typography.Text strong>Event Bus System</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">Cross-tab communication</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: ~1.7KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
           {
             key: '5',
             label: '@ahoo-wang/fetcher-storage',
             children: (
               <div>
                 <Typography.Text strong>Cross-Environment Storage</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">Lightweight storage library</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: ~11KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
           {
             key: '6',
             label: '@ahoo-wang/fetcher-react',
             children: (
               <div>
                 <Typography.Text strong>React Integration</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">Hooks and components for data fetching</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: ~1.9KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
           {
             key: '7',
             label: '@ahoo-wang/fetcher-wow',
             children: (
               <div>
                 <Typography.Text strong>CQRS/DDD Framework Support</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">Integration with Wow framework</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: ~5KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
           {
             key: '8',
             label: '@ahoo-wang/fetcher-cosec',
             children: (
               <div>
                 <Typography.Text strong>Enterprise Security</Typography.Text>
                 <br />
                 <Typography.Text type="secondary">CoSec authentication integration</Typography.Text>
                 <br />
                 <Space size="small" style={{ marginTop: 8 }}>
                   <Badge status="success" text="Version: Latest" />
                   <Badge status="processing" text="Size: ~3.8KiB min+gzip" />
                 </Space>
               </div>
             ),
           },
         ]}
       />
     </Card>

    <Card>
      <Typography.Title level={2}>🚀 Getting Started</Typography.Title>

      <Typography.Title level={3}>📦 Installation</Typography.Title>
      <pre style={{
        background: '#f6f8fa',
        border: '1px solid #d1d9e0',
        borderRadius: '6px',
        padding: '16px',
        overflow: 'auto',
        fontFamily: 'SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace',
        fontSize: '14px'
      }}>{`# Install the core package

      npm install @ahoo-wang/fetcher

      # Or install with all extensions including LLM streaming support

      npm install @ahoo-wang/fetcher @ahoo-wang/fetcher-decorator @ahoo-wang/fetcher-eventbus @ahoo-wang/fetcher-eventstream @ahoo-wang/fetcher-cosec

      # Using pnpm (recommended)

      pnpm add @ahoo-wang/fetcher

      # Using yarn

      yarn add @ahoo-wang/fetcher`}</pre>

      <Typography.Title level={3}>⚡ Quick Examples</Typography.Title>

      <Typography.Title level={4}>Basic HTTP Client</Typography.Title>
      <pre style={{
        background: '#f6f8fa',
        border: '1px solid #d1d9e0',
        borderRadius: '6px',
        padding: '16px',
        overflow: 'auto',
        fontFamily: 'SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace',
        fontSize: '14px'
      }}>{`import { Fetcher } from '@ahoo-wang/fetcher';

// Create a fetcher instance
const fetcher = new Fetcher({
baseURL: 'https://api.example.com',
timeout: 5000,
});

// GET request with path and query parameters
const response = await fetcher.get('/users/{id}', {
urlParams: {
path: { id: 123 },
query: { include: 'profile' },
},
});
const userData = await response.json<User>();

      // POST request with automatic JSON conversion
      const createUserResponse = await fetcher.post('/users', {
      body: { name: 'John Doe', email: 'john@example.com' },
      });`}</pre>
    </Card>

  </Space>
</div>
